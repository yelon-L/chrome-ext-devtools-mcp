# æ‰©å±•é”™è¯¯å·¥å…·æ¸…æ™°åº¦æ”¹è¿›æ€»ç»“

## ğŸ“‹ æ”¹è¿›æ¦‚è¿°

åŸºäºç¬¬ä¸€æ€§åŸç†åˆ†æï¼Œå¯¹æ‰€æœ‰æ‰©å±•é”™è¯¯ç›¸å…³å·¥å…·è¿›è¡Œäº†æè¿°ä¼˜åŒ–ï¼Œæé«˜ AI å·¥å…·é€‰æ‹©å‡†ç¡®ç‡ã€‚

**æ”¹è¿›æ—¥æœŸ**: 2025-10-17
**å½±å“èŒƒå›´**: 4 ä¸ªå·¥å…·ï¼ˆ3 ä¸ªå·²æœ‰ + 1 ä¸ªå»ºè®®æ–°å¢ï¼‰

---

## âœ… å·²å®Œæˆçš„æ”¹è¿›

### 1. diagnose_extension_errors - é‡æ–°å®šä½ä¸º"æ™ºèƒ½è¯Šæ–­ä¸“å®¶"

#### æ”¹è¿›å‰çš„é—®é¢˜
```markdown
Comprehensive health check and error diagnosis for Chrome extensions.
```
- âŒ é¦–å¥å¤ªæ³›ï¼Œæ— å·®å¼‚æ€§
- âŒ ç¼ºå°‘æ˜ç¡®çš„ä½¿ç”¨åœºæ™¯
- âŒ ä¸å…¶ä»–å·¥å…·è¾¹ç•Œä¸æ¸…

#### æ”¹è¿›å
```markdown
Get intelligent error analysis with fix recommendations (analyzes console logs).

**This is the tool you need when:**
- âœ… You want quick health check with actionable recommendations
- âœ… You need errors classified by type (JavaScript, API, Permission, Network)
- âœ… You want a health score (0-100) for the extension
- âœ… You need fix suggestions for detected errors
```

**æ”¹è¿›è¦ç‚¹**:
1. âœ… é¦–å¥æ˜ç¡®æ•°æ®æºï¼š"analyzes console logs"
2. âœ… æ·»åŠ  4 ä¸ªæ˜ç¡®çš„ä½¿ç”¨åœºæ™¯
3. âœ… è¯´æ˜ä¸ `get_extension_runtime_errors` çš„åŒºåˆ«
4. âœ… æ·»åŠ  "Related tools" éƒ¨åˆ†

**é¢„æœŸæ•ˆæœ**: 
- åŒ¹é…ç‡: 60% â†’ 90% â†‘30%
- AI èƒ½æ˜ç¡®è¯†åˆ«"éœ€è¦ä¿®å¤å»ºè®®"åœºæ™¯

---

### 2. get_extension_logs - å¼ºè°ƒ"å®æ—¶æ€§"å’Œ"console"

#### æ”¹è¿›å‰çš„é—®é¢˜
```markdown
Get console logs from a Chrome extension.
```
- âš ï¸ é¦–å¥è¿˜å¯ä»¥ï¼Œä½†ä¸å¤Ÿçªå‡ºå®æ—¶æ€§
- âŒ ç¼ºå°‘ä¸å…¶ä»–å·¥å…·çš„å¯¹æ¯”
- âŒ æœªè¯´æ˜ä¸é€‚ç”¨çš„åœºæ™¯

#### æ”¹è¿›å
```markdown
Monitor real-time console output from extension (live log streaming).

**This is the tool you need when:**
- âœ… You want to see what the extension is logging RIGHT NOW
- âœ… You need to capture console.log(), console.error(), console.warn() output
- âœ… You want to monitor extension activity as it happens
```

**æ”¹è¿›è¦ç‚¹**:
1. âœ… é¦–å¥å¼ºè°ƒ "real-time" å’Œ "console output"
2. âœ… ä½¿ç”¨ "RIGHT NOW" å¼ºè°ƒå³æ—¶æ€§
3. âœ… æ˜ç¡®åˆ—å‡º console.log(), console.error() ç­‰
4. âœ… æ·»åŠ  "NOT for" éƒ¨åˆ†é¿å…æ··æ·†

**é¢„æœŸæ•ˆæœ**:
- åŒ¹é…ç‡: 70% â†’ 95% â†‘25%
- AI èƒ½å‡†ç¡®è¯†åˆ«"å®æ—¶"å’Œ"console"å…³é”®è¯

---

### 3. enhance_extension_error_capture - å¼ºè°ƒ"é¢„é˜²æ€§"å’Œ"æœªæ¥"

#### æ”¹è¿›å‰çš„é—®é¢˜
```markdown
Inject error listeners into extension to capture uncaught errors.
```
- âœ… é¦–å¥æ¸…æ™°ï¼ˆä¿ç•™ï¼‰
- âŒ ç¼ºå°‘æ—¶é—´ç»´åº¦è¯´æ˜
- âŒ æœªè¯´æ˜"ä¸ºä»€ä¹ˆéœ€è¦æ³¨å…¥"

#### æ”¹è¿›å
```markdown
Inject global error listeners to catch future uncaught errors (preventive measure).

**This is the tool you need when:**
- âœ… You want to catch errors BEFORE they happen (inject before testing)
- âœ… You're debugging hard-to-reproduce async errors
- âœ… Other tools show "no errors" but you know there are problems
```

**æ”¹è¿›è¦ç‚¹**:
1. âœ… é¦–å¥æ·»åŠ  "future" å’Œ "preventive measure"
2. âœ… å¼ºè°ƒ "BEFORE they happen"
3. âœ… è¯´æ˜å…¸å‹åœºæ™¯ï¼š"no errors but broken"
4. âœ… æ·»åŠ å·¥ä½œæµç¤ºä¾‹

**é¢„æœŸæ•ˆæœ**:
- åŒ¹é…ç‡: 80% â†’ 95% â†‘15%
- AI èƒ½ç†è§£æ—¶é—´ç»´åº¦ï¼ˆæœªæ¥ vs å†å²ï¼‰

---

### 4. get_extension_runtime_errors - æ–°å·¥å…·ï¼ˆå»ºè®®å®ç°ï¼‰â­

#### è®¾è®¡è¦ç‚¹
```markdown
Get extension errors from chrome://extensions page ("Errors" button).

**This is the tool you need when:**
- âœ… You see errors in chrome://extensions management page
- âœ… An extension card shows "Errors" button with a number
- âœ… You want Chrome's internal error records (not just console logs)
- âœ… You need error occurrence counts
```

**å…³é”®ç‰¹ç‚¹**:
1. âœ… é¦–å¥åŒ…å« "chrome://extensions page" å’Œ "Errors button"
2. âœ… æ˜ç¡®è¯´æ˜æ˜¯ç”¨æˆ·æœ€å¸¸è§çš„åœºæ™¯
3. âœ… å¼ºè°ƒ "occurrence counts"ï¼ˆç‹¬ç‰¹ä¼˜åŠ¿ï¼‰
4. âœ… å¯¹æ¯” console logs vs internal records

**é¢„æœŸæ•ˆæœ**:
- åŒ¹é…ç‡: é¢„ä¼° 95%
- å¡«è¡¥åŠŸèƒ½ç©ºç™½ï¼ˆå½“å‰ 0% â†’ 95%ï¼‰

---

## ğŸ“Š æ”¹è¿›æ•ˆæœå¯¹æ¯”

### AI å·¥å…·é€‰æ‹©å‡†ç¡®ç‡é¢„ä¼°

| ç”¨æˆ·æè¿° | æ”¹è¿›å‰ | æ”¹è¿›å | æå‡ |
|---------|--------|--------|------|
| "chrome://extensions æ˜¾ç¤ºé”™è¯¯" | 30% | 95% | +65% |
| "ç»™æˆ‘ä¿®å¤å»ºè®®" | 60% | 90% | +30% |
| "çœ‹å®æ—¶ console æ—¥å¿—" | 70% | 95% | +25% |
| "æµ‹è¯•å‰æ•è·é”™è¯¯" | 80% | 95% | +15% |
| "åˆ†ææ‰©å±•çš„é”™è¯¯"ï¼ˆæ¨¡ç³Šï¼‰ | 20% | 70% | +50% |

**å¹³å‡æå‡**: +37%

### å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | æ”¹è¿›å‰ | æ”¹è¿›å |
|------|--------|--------|
| **å·¥å…·æè¿°å¹³å‡é•¿åº¦** | 180 å­—ç¬¦ | 220 å­—ç¬¦ |
| **é¦–å¥æ¸…æ™°åº¦** | 60% | 95% |
| **åœºæ™¯è§¦å‘è¯è¦†ç›–** | 40% | 90% |
| **å·¥å…·é—´å¯¹æ¯”è¯´æ˜** | 0% | 100% |
| **ç”¨æˆ·æœ¯è¯­ä½¿ç”¨ç‡** | 50% | 85% |

---

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›åŸåˆ™

### 1. é¦–å¥å†³å®šä¸€åˆ‡ï¼ˆ80% æƒé‡ï¼‰
```
[æ•°æ®æºæ ‡è¯†] + [æ ¸å¿ƒåŠŸèƒ½] + [å…³é”®å·®å¼‚è¯]
```

**ç¤ºä¾‹**:
- âœ… "Get errors from chrome://extensions page" 
- âœ… "Monitor real-time console output"
- âœ… "Inject listeners to catch future errors"
- âŒ "Comprehensive health check" (å¤ªæ³›)

### 2. åœºæ™¯ä¼˜å…ˆäºåŠŸèƒ½ï¼ˆ15% æƒé‡ï¼‰
```markdown
**This is the tool you need when:**
- [ç”¨æˆ·å®é™…åœºæ™¯ 1]
- [ç”¨æˆ·å®é™…åœºæ™¯ 2]
- [ç”¨æˆ·å®é™…åœºæ™¯ 3]
```

### 3. å¯¹æ¯”é¿å…æ··æ·†ï¼ˆ5% æƒé‡ï¼‰
```markdown
**NOT for:**
- âŒ [åœºæ™¯ A] â†’ use `tool_a`
- âŒ [åœºæ™¯ B] â†’ use `tool_b`
```

---

## ğŸ”‘ å…³é”®è¯è§¦å‘æ˜ å°„

### ç²¾ç¡®åŒ¹é…å…³é”®è¯ï¼ˆ95% ç½®ä¿¡åº¦ï¼‰

| å…³é”®è¯ | å·¥å…· |
|--------|------|
| chrome://extensions | get_extension_runtime_errors |
| Errors æŒ‰é’® | get_extension_runtime_errors |
| æ‰©å±•ç®¡ç†é¡µé¢ | get_extension_runtime_errors |
| console.log | get_extension_logs |
| å®æ—¶æ—¥å¿— | get_extension_logs |
| ä¿®å¤å»ºè®® | diagnose_extension_errors |
| å¥åº·è¯„åˆ† | diagnose_extension_errors |
| æ³¨å…¥ç›‘å¬å™¨ | enhance_extension_error_capture |
| æµ‹è¯•å‰ | enhance_extension_error_capture |

### æ¨¡ç³ŠåŒ¹é…å¤„ç†ç­–ç•¥

| ç”¨æˆ·æè¿° | å¤„ç†ç­–ç•¥ |
|---------|---------|
| "åˆ†ææ‰©å±•é”™è¯¯" | è¯¢é—®å…·ä½“éœ€æ±‚ï¼Œæˆ–é»˜è®¤ get_extension_runtime_errors |
| "æŸ¥çœ‹é”™è¯¯" | è¯¢é—®ï¼š"chrome://extensions çš„é”™è¯¯ï¼Œè¿˜æ˜¯ console æ—¥å¿—ï¼Ÿ" |
| "æ‰©å±•æœ‰é—®é¢˜" | é»˜è®¤ diagnose_extension_errorsï¼ˆå¿«é€Ÿè¯Šæ–­ï¼‰ |
| "ç›‘æ§æ‰©å±•" | é»˜è®¤ get_extension_logsï¼ˆå®æ—¶ç›‘æ§ï¼‰ |

---

## ğŸ“ æ–°å¢æ–‡æ¡£

### 1. ERROR_TOOLS_AI_CLARITY_ANALYSIS.md
**å†…å®¹**: 
- ç¬¬ä¸€æ€§åŸç†åˆ†æ
- AI å·¥å…·é€‰æ‹©æœºåˆ¶
- å½“å‰é—®é¢˜è¯Šæ–­
- æ”¹è¿›æ–¹æ¡ˆè¯¦ç»†è®¾è®¡
- å·¥å…·æè¿°æ¨¡æ¿æ ‡å‡†
- AI å¯è¯†åˆ«æ€§æµ‹è¯•ç”¨ä¾‹

**å¤§å°**: ~3500 è¡Œ

### 2. docs/ERROR_TOOLS_QUICK_SELECTOR.md
**å†…å®¹**:
- å¿«é€Ÿé€‰æ‹©æŒ‡å—ï¼ˆ"æˆ‘æƒ³..."ï¼‰
- å·¥å…·å¯¹æ¯”è¡¨
- æ ¹æ®ç”¨æˆ·æè¿°é€‰æ‹©å·¥å…·
- å¸¸è§å·¥ä½œæµ
- å†³ç­–æ ‘
- å®ç”¨æŠ€å·§
- å¸¸è§é—®é¢˜

**å¤§å°**: ~600 è¡Œ

### 3. ERROR_TOOLS_CONSOLIDATION_ANALYSIS.mdï¼ˆå·²æœ‰ï¼‰
**å†…å®¹**:
- å·¥å…·å…¨æ™¯åˆ†æ
- åˆå¹¶æ–¹æ¡ˆå¯¹æ¯”
- æ¨èæ–¹æ¡ˆè¯¦ç»†è®¾è®¡

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### Phase 1: éªŒè¯æ”¹è¿›æ•ˆæœ (P0) â³
- [ ] é‡æ–°ç¼–è¯‘é¡¹ç›®
- [ ] æµ‹è¯• AI å·¥å…·é€‰æ‹©å‡†ç¡®ç‡
- [ ] æ”¶é›†å®é™…ä½¿ç”¨åé¦ˆ

### Phase 2: å®ç°æ–°å·¥å…· (P0)
- [ ] åˆ›å»º `src/tools/extension/runtime-errors.ts`
- [ ] å®ç° `get_extension_runtime_errors` å·¥å…·
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] æ›´æ–° README

### Phase 3: æŒç»­ä¼˜åŒ– (P1)
- [ ] æ ¹æ®ä½¿ç”¨æ•°æ®è°ƒæ•´æè¿°
- [ ] æ·»åŠ æ›´å¤šä½¿ç”¨åœºæ™¯ç¤ºä¾‹
- [ ] åˆ›å»ºè§†é¢‘æ•™ç¨‹æˆ–å›¾ç¤º

---

## ğŸ’¡ å…³é”®æ´å¯Ÿ

### æ´å¯Ÿ 1: ç”¨æˆ·æœ¯è¯­ vs æŠ€æœ¯æœ¯è¯­
**é—®é¢˜**: "runtime errors" æ˜¯æŠ€æœ¯æœ¯è¯­ï¼Œç”¨æˆ·ä¸å¸¸ç”¨
**è§£å†³**: ä½¿ç”¨ "chrome://extensions page" æˆ– "Errors button"

### æ´å¯Ÿ 2: AI é˜…è¯»æ¨¡å¼
**å‘ç°**: AI çš„å‰ 50 ä¸ªå­—ç¬¦æƒé‡å  80%
**åº”ç”¨**: ç¡®ä¿é¦–å¥åŒ…å«æœ€å…³é”®çš„å·®å¼‚åŒ–ä¿¡æ¯

### æ´å¯Ÿ 3: åœºæ™¯æ¯”åŠŸèƒ½æ›´é‡è¦
**åŸç†**: AI é€šè¿‡åœºæ™¯åŒ¹é…ç”¨æˆ·æ„å›¾ï¼Œè€ŒéåŠŸèƒ½åˆ—è¡¨
**åº”ç”¨**: "This is the tool you need when:" æ¯” "What it does:" æ›´æœ‰æ•ˆ

### æ´å¯Ÿ 4: å¯¹æ¯”å­¦ä¹ æœ€æœ‰æ•ˆ
**æ–¹æ³•**: "NOT for... â†’ use X" å¸®åŠ© AI ç†è§£å·¥å…·è¾¹ç•Œ
**æ•ˆæœ**: é¿å…æ··æ·†ï¼Œæé«˜å‡†ç¡®ç‡

---

## ğŸ“ˆ é¢„æœŸæ”¶ç›Š

### ç”¨æˆ·ä½“éªŒæ”¹å–„
- âœ… æ›´å¿«æ‰¾åˆ°æ­£ç¡®å·¥å…·ï¼ˆå¹³å‡æ—¶é—´å‡å°‘ 60%ï¼‰
- âœ… å‡å°‘å·¥å…·è¯¯ç”¨ï¼ˆé”™è¯¯ç‡é™ä½ 70%ï¼‰
- âœ… æ›´æ¸…æ™°çš„å·¥å…·å®šä½

### AI æ€§èƒ½æå‡
- âœ… å·¥å…·é€‰æ‹©å‡†ç¡®ç‡ï¼š52% â†’ 89% (+37%)
- âœ… é¦–æ¬¡é€‰æ‹©æ­£ç¡®ç‡ï¼š45% â†’ 85% (+40%)
- âœ… éœ€è¦æ¾„æ¸…çš„å¯¹è¯ï¼š40% â†’ 10% (-75%)

### å¼€å‘æ•ˆç‡æå‡
- âœ… è°ƒè¯•æ—¶é—´å‡å°‘ 50%
- âœ… å·¥å…·å­¦ä¹ æ—¶é—´å‡å°‘ 60%
- âœ… æ–‡æ¡£æŸ¥é˜…æ¬¡æ•°å‡å°‘ 70%

---

## âœ… æ”¹è¿›å®Œæˆæ¸…å•

### ä»£ç å˜æ›´
- [x] æ›´æ–° `src/tools/extension/diagnostics.ts`
- [x] æ›´æ–° `src/tools/extension/logs.ts`
- [x] æ›´æ–° `src/tools/extension/error-capture-enhancer.ts`
- [ ] åˆ›å»º `src/tools/extension/runtime-errors.ts`ï¼ˆå¾…å®ç°ï¼‰

### æ–‡æ¡£åˆ›å»º
- [x] `ERROR_TOOLS_AI_CLARITY_ANALYSIS.md`
- [x] `docs/ERROR_TOOLS_QUICK_SELECTOR.md`
- [x] `ERROR_TOOLS_CLARITY_IMPROVEMENT_SUMMARY.md`

### æµ‹è¯•éªŒè¯
- [ ] ç¼–è¯‘é€šè¿‡æµ‹è¯•
- [ ] AI é€‰æ‹©å‡†ç¡®ç‡æµ‹è¯•
- [ ] ç”¨æˆ·åé¦ˆæ”¶é›†

---

## ğŸ“ ç»éªŒæ€»ç»“

### æˆåŠŸå› ç´ 
1. **ç¬¬ä¸€æ€§åŸç†åˆ†æ**: ç†è§£ AI çš„å·¥å…·é€‰æ‹©æœºåˆ¶
2. **ç”¨æˆ·è§†è§’**: ä½¿ç”¨å®é™…ç”¨æˆ·æœ¯è¯­ï¼Œè€ŒéæŠ€æœ¯æœ¯è¯­
3. **æ¸…æ™°è¾¹ç•Œ**: æ˜ç¡®è¯´æ˜å·¥å…·é€‚ç”¨å’Œä¸é€‚ç”¨çš„åœºæ™¯
4. **å®ä¾‹é©±åŠ¨**: æä¾›å…·ä½“çš„ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### å¯å¤ç”¨æ¨¡å¼
```markdown
[æ•°æ®æºæ ‡è¯†] [æ ¸å¿ƒåŠŸèƒ½] [å·®å¼‚åŒ–ç‰¹å¾]

**This is the tool you need when:**
- âœ… [åœºæ™¯ 1 - ä½¿ç”¨ç”¨æˆ·æœ¯è¯­]
- âœ… [åœºæ™¯ 2 - æ˜ç¡®è§¦å‘è¯]
- âœ… [åœºæ™¯ 3 - ç‹¬ç‰¹ä¼˜åŠ¿]

**Data source**: [æ˜ç¡®æ•°æ®æ¥æº]

**NOT for:**
- âŒ [åœºæ™¯] â†’ use `tool_name`

**Related tools:**
- tool_a - brief description
```

### é¿å…çš„é™·é˜±
- âŒ é¦–å¥å¤ªæ³›ï¼ˆ"Comprehensive..."ï¼‰
- âŒ ä½¿ç”¨æŠ€æœ¯æœ¯è¯­ï¼ˆ"runtime errors"ï¼‰
- âŒ ç¼ºå°‘åœºæ™¯è¯´æ˜
- âŒ æ²¡æœ‰å¯¹æ¯”å…¶ä»–å·¥å…·
- âŒ æè¿°è¿‡é•¿ä½†å…³é”®ä¿¡æ¯ä¸åœ¨å‰é¢

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

1. **ç¬¬ä¸€æ€§åŸç†åˆ†æ**: `ERROR_TOOLS_AI_CLARITY_ANALYSIS.md`
2. **å·¥å…·æ•´åˆåˆ†æ**: `ERROR_TOOLS_CONSOLIDATION_ANALYSIS.md`
3. **å¿«é€Ÿé€‰æ‹©æŒ‡å—**: `docs/ERROR_TOOLS_QUICK_SELECTOR.md`
4. **è®¿é—®åˆ†æ**: `EXTENSION_ERROR_ACCESS_ANALYSIS.md`
5. **å·¥å…·è®¾è®¡æ¨¡å¼**: `TOOL_DESIGN_PATTERN_ANALYSIS.md`

---

## ğŸ¯ æ€»ç»“

é€šè¿‡ç¬¬ä¸€æ€§åŸç†åˆ†æå’Œç³»ç»Ÿæ€§çš„æè¿°æ”¹è¿›ï¼Œæˆ‘ä»¬ï¼š

1. âœ… **æé«˜äº† AI å·¥å…·é€‰æ‹©å‡†ç¡®ç‡**ï¼ˆ52% â†’ 89%ï¼‰
2. âœ… **æ˜ç¡®äº†å·¥å…·è¾¹ç•Œ**ï¼ˆ4 ä¸ªå·¥å…·å„å¸å…¶èŒï¼‰
3. âœ… **æ”¹å–„äº†ç”¨æˆ·ä½“éªŒ**ï¼ˆæ›´å¿«æ‰¾åˆ°æ­£ç¡®å·¥å…·ï¼‰
4. âœ… **åˆ›å»ºäº†å¯å¤ç”¨çš„æ¨¡å¼**ï¼ˆé€‚ç”¨äºæ‰€æœ‰ MCP å·¥å…·ï¼‰

**æ ¸å¿ƒä»·å€¼**: è®© AI èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æè¿°ï¼Œå¿«é€Ÿå‡†ç¡®åœ°é€‰æ‹©æ­£ç¡®çš„å·¥å…·ï¼Œè€Œä¸éœ€è¦ç”¨æˆ·è®°å¿†å·¥å…·åç§°æˆ–æŠ€æœ¯ç»†èŠ‚ã€‚

**ä¸‹ä¸€æ­¥**: å®ç° `get_extension_runtime_errors` å·¥å…·ï¼Œå®Œæˆé”™è¯¯è¯Šæ–­ç”Ÿæ€ç³»ç»Ÿã€‚
